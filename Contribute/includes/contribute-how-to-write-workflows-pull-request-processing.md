## <a name="pull-request-processing"></a><span data-ttu-id="f09e8-101">拉取请求处理</span><span class="sxs-lookup"><span data-stu-id="f09e8-101">Pull request processing</span></span>

<span data-ttu-id="f09e8-102">之前的部分介绍了提交建议更改的过程，提交时所用的方式是将建议更改绑定在已添加到目标存储库拉取请求队列的新拉取请求 (PR) 中。</span><span class="sxs-lookup"><span data-stu-id="f09e8-102">The previous section walked you through the process of submitting proposed changes, by bundling them in a new pull request (PR) that is added to the destination repository's PR queue.</span></span> <span data-ttu-id="f09e8-103">拉取请求通过请求将工作分支的更改拉取和合并到其他分支，从而实现 GitHub 的协作模型。</span><span class="sxs-lookup"><span data-stu-id="f09e8-103">A pull request enables GitHub's collaboration model, by asking for the changes from your working branch to be pulled and merged into another branch.</span></span> <span data-ttu-id="f09e8-104">大多数情况下，其他分支就是主存储库中的默认/主分支。</span><span class="sxs-lookup"><span data-stu-id="f09e8-104">In most cases, that other branch is the default/master branch in the main repository.</span></span>

### <a name="validation"></a><span data-ttu-id="f09e8-105">验证</span><span class="sxs-lookup"><span data-stu-id="f09e8-105">Validation</span></span>

<span data-ttu-id="f09e8-106">拉取请求在可以合并到其目标分支前，可能需要通过一个或多个 PR 验证过程。</span><span class="sxs-lookup"><span data-stu-id="f09e8-106">Before your pull request can be merged into its destination branch, it might be required to pass through one or more PR validation processes.</span></span> <span data-ttu-id="f09e8-107">验证过程因建议更改的范围和目标存储库的规则而异。</span><span class="sxs-lookup"><span data-stu-id="f09e8-107">Validation processes can vary depending on the scope of proposed changes and the rules of the destination repository.</span></span> <span data-ttu-id="f09e8-108">拉取请求提交后，可能会遇到以下一种或多种情况：</span><span class="sxs-lookup"><span data-stu-id="f09e8-108">After your pull request is submitted, you can expect one or more of the following to happen:</span></span>

- <span data-ttu-id="f09e8-109">可合并性：首先进行基准 GitHub 可合并性测试，验证分支中的建议更改是否与目标分支冲突。</span><span class="sxs-lookup"><span data-stu-id="f09e8-109">**Mergeability**: A baseline GitHub mergeability test occurs first, to verify whether the proposed changes in your branch are in conflict with the destination branch.</span></span> <span data-ttu-id="f09e8-110">如果拉取请求指示未通过该测试，则必须协调导致合并冲突的内容，然后才能继续进行处理。</span><span class="sxs-lookup"><span data-stu-id="f09e8-110">If the pull request indicates that this test failed, you must reconcile the content that is causing the merge conflict before processing can continue.</span></span>
- <span data-ttu-id="f09e8-111">CLA：如果将内容提交到公共存储库并且你不是 Microsoft 员工，根据建议更改的规模，你可能需要在首次向该存储库提交拉取请求时完成简短的贡献许可协议 (CLA)。</span><span class="sxs-lookup"><span data-stu-id="f09e8-111">**CLA**: If you are contributing to a public repository and are not a Microsoft employee, depending on the magnitude of the proposed changes, you might be asked to complete a short Contribution License Agreement (CLA) the first time you submit a pull request to that repository.</span></span> <span data-ttu-id="f09e8-112">完成 CLA 步骤后，才会处理拉取请求。</span><span class="sxs-lookup"><span data-stu-id="f09e8-112">After the CLA step is cleared, your pull request is processed.</span></span>
- <span data-ttu-id="f09e8-113">标签：标签会自动应用于拉取请求，用于指示拉取请求在通过验证工作流程时的状态。</span><span class="sxs-lookup"><span data-stu-id="f09e8-113">**Labeling**: Labels are automatically applied to your pull request, to indicate the state of your pull request as it passes through the validation workflow.</span></span> <span data-ttu-id="f09e8-114">例如，新的拉取请求可能会自动接收“不合并”标签，指示该拉取请求尚未完成验证、审阅和注销步骤。</span><span class="sxs-lookup"><span data-stu-id="f09e8-114">For instance, new pull requests might automatically receive the "do-not-merge" label, indicating that the pull request has not yet completed the validation, review, and sign-off steps.</span></span>
- <span data-ttu-id="f09e8-115">验证和生成：自动化检查会验证更改是否已通过验证测试。</span><span class="sxs-lookup"><span data-stu-id="f09e8-115">**Validation and build**: Automated checks verify whether your changes pass validation tests.</span></span> <span data-ttu-id="f09e8-116">验证测试可能生成警告或错误，你需要对拉取请求中的一个或多个文件进行更改，然后才能将其合并。</span><span class="sxs-lookup"><span data-stu-id="f09e8-116">The validation tests might yield warnings or errors, requiring you to make changes to one or more files in your pull request before it can be merged.</span></span> <span data-ttu-id="f09e8-117">验证测试结果将以备注的形式添加到拉取请求中供你审阅，可通过电子邮件发送给你。</span><span class="sxs-lookup"><span data-stu-id="f09e8-117">The validation test results are added as a comment in your pull request for your review, and they might be sent to you in e-mail.</span></span>
- <span data-ttu-id="f09e8-118">过渡：受更改影响的文章页面会自动部署到过渡环境，供验证和生成成功后进行审阅。</span><span class="sxs-lookup"><span data-stu-id="f09e8-118">**Staging**: The article pages affected by your changes are automatically deployed to a staging environment for review upon successful validation and build.</span></span> <span data-ttu-id="f09e8-119">PR 备注中包含预览 URL。</span><span class="sxs-lookup"><span data-stu-id="f09e8-119">Preview URLs appear in a PR comment.</span></span>
- <span data-ttu-id="f09e8-120">自动合并：拉取请求在通过验证测试并满足某些条件后可能会进行自动合并。</span><span class="sxs-lookup"><span data-stu-id="f09e8-120">**Auto-merge**: The pull request might be automatically merged, if it passes validation testing and certain criteria.</span></span> <span data-ttu-id="f09e8-121">在这种情况下，不需要执行其他操作。</span><span class="sxs-lookup"><span data-stu-id="f09e8-121">In this case, you don't need to take any further action.</span></span>

### <a name="review-and-sign-off"></a><span data-ttu-id="f09e8-122">审阅和注销</span><span class="sxs-lookup"><span data-stu-id="f09e8-122">Review and sign-off</span></span>

<span data-ttu-id="f09e8-123">所有 PR 处理完成后，应审阅结果（PR 备注、预览 URL 等），在签核合并前决定是否需要对其文件进行其他更改。</span><span class="sxs-lookup"><span data-stu-id="f09e8-123">After all PR processing is completed, you should review the results (PR comments, preview URLs, etc.) to determine if additional changes to its files are required before you sign off for merging.</span></span> <span data-ttu-id="f09e8-124">PR 审阅者审阅拉取请求后，如果存在明显的问题需在合并前解决，审阅者还可通过备注提供反馈。</span><span class="sxs-lookup"><span data-stu-id="f09e8-124">If a PR reviewer has reviewed your pull request, they can also provide feedback via comments if there are outstanding issues/questions to be resolved prior to merge.</span></span>

[!INCLUDE[contribute-how-to-pull-requests-apex-automation.md](contribute-how-to-pull-requests-apex-automation.md)]

<span data-ttu-id="f09e8-125">拉取请求没有问题并签核后，更改将合并回父分支并关闭拉取请求。</span><span class="sxs-lookup"><span data-stu-id="f09e8-125">When the pull request is issue-free and signed off, your changes are merged back into the parent branch and the pull request is closed.</span></span>

### <a name="publishing"></a><span data-ttu-id="f09e8-126">发布</span><span class="sxs-lookup"><span data-stu-id="f09e8-126">Publishing</span></span>

<span data-ttu-id="f09e8-127">请记住，拉取请求必须由 PR 审阅者进行合并，然后更改才能包括在下个计划发布运行中。</span><span class="sxs-lookup"><span data-stu-id="f09e8-127">Remember, your pull request has to be merged by a PR reviewer before the changes can be included in the next scheduled publishing run.</span></span> <span data-ttu-id="f09e8-128">拉取请求通常按提交顺序审阅/合并。</span><span class="sxs-lookup"><span data-stu-id="f09e8-128">Pull requests are normally reviewed/merged in the order of submission.</span></span> <span data-ttu-id="f09e8-129">如果拉取请求需针对特定发布运行进行合并，你需要提前与 PR 审阅者合作，确保在发布前进行合并。</span><span class="sxs-lookup"><span data-stu-id="f09e8-129">If your pull request requires merging for a specific publishing run, you will need to work with your PR reviewer ahead of time to ensure that merging happens prior to publishing.</span></span>

<span data-ttu-id="f09e8-130">供稿内容在得到批准并进行合并后，Docs.Microsoft.Com 发布过程会选取这些内容。</span><span class="sxs-lookup"><span data-stu-id="f09e8-130">After your contributions are approved and merged, the docs.microsoft.com publishing process picks them up.</span></span> <span data-ttu-id="f09e8-131">发布时间可能不同，具体取决于管理内容被提交到的存储库的团队。</span><span class="sxs-lookup"><span data-stu-id="f09e8-131">Depending on the team that manages the repository you are contributing to, publishing times can vary.</span></span> <span data-ttu-id="f09e8-132">以下路径下发布的文章通常部署时间约为太平洋时间星期一到星期五上午 10:30 和下午 3:30：</span><span class="sxs-lookup"><span data-stu-id="f09e8-132">Articles published under the following paths are normally deployed at approximately 10:30 AM and 3:30 PM Pacific Time, Monday-Friday:</span></span>

- https://docs.microsoft.com/azure/
- https://docs.microsoft.com/aspnet/
- https://docs.microsoft.com/dotnet/
- https://docs.microsoft.com/enterprise-mobility-security

<span data-ttu-id="f09e8-133">文章发布后出现在网上最多耗时 45 分钟。</span><span class="sxs-lookup"><span data-stu-id="f09e8-133">It can take up to 45 minutes for articles to appear online after publishing.</span></span> <span data-ttu-id="f09e8-134">文章发布后，可在相应 URL 处验证更改：`https://docs.microsoft.com/<path-to-your-article-without-the-md-extension>`。</span><span class="sxs-lookup"><span data-stu-id="f09e8-134">After your article is published, you can verify your changes at the appropriate URL: `https://docs.microsoft.com/<path-to-your-article-without-the-md-extension>`.</span></span>
