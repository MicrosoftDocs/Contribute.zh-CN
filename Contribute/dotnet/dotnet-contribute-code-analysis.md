---
title: 参与 .NET 文档存储库中的 .NET 代码分析规则的文档撰写
description: 本文档介绍参与 .NET 文档存储库中的 .NET 代码分析规则的文章和代码示例撰写的过程。
author: mavasani
ms.author: mavasani
ms.topic: contributor-guide
ms.prod: non-product-specific
ms.custom: external-contributor-guide
ms.date: 10/09/2020
ms.openlocfilehash: 27ae1a31c55c41aa1c97bf1f88dbf28bec35a80a
ms.sourcegitcommit: f1535713b66ff9b840f1138583746bc2bf182b4f
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/12/2020
ms.locfileid: "91957039"
---
# <a name="contribute-docs-for-net-code-analysis-rules-to-the-net-docs-repository"></a><span data-ttu-id="6903a-103">参与 .NET 文档存储库中的 .NET 代码分析规则的文档撰写</span><span class="sxs-lookup"><span data-stu-id="6903a-103">Contribute docs for .NET code analysis rules to the .NET docs repository</span></span>

<span data-ttu-id="6903a-104">.NET Compiler Platform (Roslyn) 分析器会检查 C# 或 Visual Basic 代码的代码质量和代码样式问题。</span><span class="sxs-lookup"><span data-stu-id="6903a-104">.NET compiler platform (Roslyn) analyzers inspect your C# or Visual Basic code for code quality and code style issues.</span></span> <span data-ttu-id="6903a-105">从 .NET 5.0 开始，这些分析器[包含在 .NET SDK 中](/dotnet/fundamentals/code-analysis/overview)。</span><span class="sxs-lookup"><span data-stu-id="6903a-105">Starting in .NET 5.0, these analyzers are [included with the .NET SDK](/dotnet/fundamentals/code-analysis/overview).</span></span>

- <span data-ttu-id="6903a-106">[代码质量分析（“CAxxxx”规则）](/dotnet/fundamentals/code-analysis/overview#code-quality-analysis)：</span><span class="sxs-lookup"><span data-stu-id="6903a-106">[Code quality analysis ("CAxxxx" rules)](/dotnet/fundamentals/code-analysis/overview#code-quality-analysis):</span></span>
  - <span data-ttu-id="6903a-107">在 `dotnet/roslyn-analyzers` 存储库中已在[此处](https://github.com/dotnet/roslyn-analyzers/tree/master/src/NetAnalyzers)实现。</span><span class="sxs-lookup"><span data-stu-id="6903a-107">Implemented [here](https://github.com/dotnet/roslyn-analyzers/tree/master/src/NetAnalyzers) in `dotnet/roslyn-analyzers` repo.</span></span>
  - <span data-ttu-id="6903a-108">在 `dotnet/docs` 存储库中已在[此处](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules)记录。</span><span class="sxs-lookup"><span data-stu-id="6903a-108">Documented [here](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules) in the `dotnet/docs` repo.</span></span> <span data-ttu-id="6903a-109">请参阅[参与“CAxxxx”规则的文档撰写](#contribute-docs-for-caxxxx-rules)。</span><span class="sxs-lookup"><span data-stu-id="6903a-109">See [Contribute docs for 'CAxxxx' rules](#contribute-docs-for-caxxxx-rules).</span></span>
- <span data-ttu-id="6903a-110">[代码样式分析（“IDExxxx”规则）](/dotnet/fundamentals/code-analysis/overview#code-style-analysis)：</span><span class="sxs-lookup"><span data-stu-id="6903a-110">[Code style analysis ("IDExxxx" rules)](/dotnet/fundamentals/code-analysis/overview#code-style-analysis):</span></span>
  - <span data-ttu-id="6903a-111">在 `dotnet/roslyn` 存储库中已在[此处](https://github.com/dotnet/roslyn/tree/master/src/Analyzers)实现。</span><span class="sxs-lookup"><span data-stu-id="6903a-111">Implemented [here](https://github.com/dotnet/roslyn/tree/master/src/Analyzers) in `dotnet/roslyn` repo.</span></span>
  - <span data-ttu-id="6903a-112">在 `dotnet/docs` 存储库中已在[此处](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules)记录。</span><span class="sxs-lookup"><span data-stu-id="6903a-112">Documented [here](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules) in the `dotnet/docs` repo.</span></span> <span data-ttu-id="6903a-113">请参阅[参与“IDExxxx”规则的文档撰写](#contribute-docs-for-idexxxx-rules)。</span><span class="sxs-lookup"><span data-stu-id="6903a-113">See [Contribute docs for 'IDExxxx' rules](#contribute-docs-for-idexxxx-rules).</span></span>

## <a name="contribute-docs-for-caxxxx-rules"></a><span data-ttu-id="6903a-114">参与“CAxxxx”规则的文档撰写</span><span class="sxs-lookup"><span data-stu-id="6903a-114">Contribute docs for 'CAxxxx' rules</span></span>

<span data-ttu-id="6903a-115">请按照以下步骤参与 [dotnet/docs](https://github.com/dotnet/docs) 存储库中的代码质量分析规则的文档撰写：</span><span class="sxs-lookup"><span data-stu-id="6903a-115">Please follow the following steps to contribute documentation for code quality analysis rules to the [dotnet/docs](https://github.com/dotnet/docs) repo:</span></span>

1. <span data-ttu-id="6903a-116">确定 `Rule ID` 和 `Category`：确保你知道需要记录“CAxxxx”规则 ID 和规则的类别。</span><span class="sxs-lookup"><span data-stu-id="6903a-116">Determine `Rule ID` and `Category`: Ensure that you know the 'CAxxxx' rule ID and category for the rule to be documented.</span></span> <span data-ttu-id="6903a-117">这表示 CA 分析器已合并到 [dotnet/roslyn-analyzers](https://github.com/dotnet/roslyn-analyzers) 存储库或开放的 PR 具有已批准的 ID 和已分配给规则的类别。</span><span class="sxs-lookup"><span data-stu-id="6903a-117">This means either your CA analyzer has been merged into [dotnet/roslyn-analyzers](https://github.com/dotnet/roslyn-analyzers) repo or you have an open PR with an approved ID and category that has been assigned to the rule.</span></span>
2. <span data-ttu-id="6903a-118">添加规则文档：</span><span class="sxs-lookup"><span data-stu-id="6903a-118">Add rule doc:</span></span>
   1. <span data-ttu-id="6903a-119">在[根](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules)文件夹下克隆现有的 CA 规则文件（如 `ca1000.md`），然后对其重命名。</span><span class="sxs-lookup"><span data-stu-id="6903a-119">Clone an existing CA rule file under [root](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules) folder, say `ca1000.md`, and rename it.</span></span>
   2. <span data-ttu-id="6903a-120">适当地更新文件的内容。</span><span class="sxs-lookup"><span data-stu-id="6903a-120">Update the content of the file appropriately.</span></span>
3. <span data-ttu-id="6903a-121">将规则的条目添加到以下表：</span><span class="sxs-lookup"><span data-stu-id="6903a-121">Add an entry for the rule to following tables:</span></span>
   - <span data-ttu-id="6903a-122">在规则类别列表下的[目录](https://github.com/dotnet/docs/blob/master/docs/fundamentals/toc.yml)文件中。</span><span class="sxs-lookup"><span data-stu-id="6903a-122">In [table of contents](https://github.com/dotnet/docs/blob/master/docs/fundamentals/toc.yml) file under the rule category list.</span></span> <span data-ttu-id="6903a-123">例如，对于具有 `Performance` 类别的 CA 规则，搜索文件中的术语 `- name: Performance rules` 并将条目添加到列表中。</span><span class="sxs-lookup"><span data-stu-id="6903a-123">For example, for a CA rule with `Performance` category, search for the term `- name: Performance rules` in the file and add an entry to the list.</span></span> <span data-ttu-id="6903a-124">如果都不存在，请在 `- name: Code quality rules` 下创建新类别列表。</span><span class="sxs-lookup"><span data-stu-id="6903a-124">If none exists, create a new category list under `- name: Code quality rules`.</span></span>
   - <span data-ttu-id="6903a-125">在[顶级规则索引](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules/index.md)文件中。</span><span class="sxs-lookup"><span data-stu-id="6903a-125">In [top-level rule index](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules/index.md) file.</span></span>
   - <span data-ttu-id="6903a-126">在基于 `category` 的规则索引文件中：</span><span class="sxs-lookup"><span data-stu-id="6903a-126">In `category` based rule index file:</span></span>
     1. <span data-ttu-id="6903a-127">在[根](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules)文件夹下标识基于类别的索引文件。</span><span class="sxs-lookup"><span data-stu-id="6903a-127">Identify the category based index file under [root](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/quality-rules) folder.</span></span> <span data-ttu-id="6903a-128">例如，对于具有 `Performance` 类别的 CA 规则，此文件名为 `performance-warnings.md`。</span><span class="sxs-lookup"><span data-stu-id="6903a-128">For example, for a CA rule with `Performance` category, this file is named `performance-warnings.md`.</span></span> <span data-ttu-id="6903a-129">如果都不存在，请通过克隆现有索引文件来创建基于类别的新索引文件。</span><span class="sxs-lookup"><span data-stu-id="6903a-129">If none exists, create a new category based index file by cloning an existing one.</span></span>
     2. <span data-ttu-id="6903a-130">在此文件中添加规则 ID 的条目。</span><span class="sxs-lookup"><span data-stu-id="6903a-130">Add an entry for the rule ID in this file.</span></span>

> [!TIP]
> <span data-ttu-id="6903a-131">执行 `dotnet/docs` 存储库中的存储库搜索以查找已知的现有 CA 规则 ID 来标识可能需要更新的位置。</span><span class="sxs-lookup"><span data-stu-id="6903a-131">Perform a repo search in the `dotnet/docs` repo for a known, existing CA rule ID to identify potential places that might need an update.</span></span> <span data-ttu-id="6903a-132">有关示例，请参阅 <https://github.com/dotnet/docs/search?q=CA2000>。</span><span class="sxs-lookup"><span data-stu-id="6903a-132">For example, see <https://github.com/dotnet/docs/search?q=CA2000>.</span></span>

## <a name="contribute-docs-for-idexxxx-rules"></a><span data-ttu-id="6903a-133">参与“IDExxxx”规则的文档撰写</span><span class="sxs-lookup"><span data-stu-id="6903a-133">Contribute docs for 'IDExxxx' rules</span></span>

<span data-ttu-id="6903a-134">请按照以下步骤参与 [dotnet/docs](https://github.com/dotnet/docs) 存储库中的代码样式分析规则的文档撰写：</span><span class="sxs-lookup"><span data-stu-id="6903a-134">Please follow the following steps to contribute documentation for code style analysis rules to the [dotnet/docs](https://github.com/dotnet/docs) repo:</span></span>

1. <span data-ttu-id="6903a-135">确定 `Rule ID` 和代码样式选项（如果有）：确保你知道需要记录“IDExxxx”规则 ID 和规则的代码样式选项。</span><span class="sxs-lookup"><span data-stu-id="6903a-135">Determine `Rule ID` and code style options, if any: Ensure that you know the 'IDExxxx' rule ID and code style options for the rule to be documented.</span></span> <span data-ttu-id="6903a-136">这表示 IDE 分析器已合并到 [dotnet/roslyn](https://github.com/dotnet/roslyn) 存储库或开放的 PR 具有已批准的 ID 和已分配给规则的代码样式选项。</span><span class="sxs-lookup"><span data-stu-id="6903a-136">This means either the IDE analyzer has been merged into the [dotnet/roslyn](https://github.com/dotnet/roslyn) repo or you have an open PR with an approved ID and code style options that have been assigned to the rule.</span></span>
2. <span data-ttu-id="6903a-137">确定规则 `subcategory`：IDE 规则具有类别 `Style`。</span><span class="sxs-lookup"><span data-stu-id="6903a-137">Determine rule `subcategory`: IDE rules have category `Style`.</span></span> <span data-ttu-id="6903a-138">通过阅读[代码样式规则](/dotnet/fundamentals/code-analysis/style-rules/index)的简介部分来标识规则子类别。</span><span class="sxs-lookup"><span data-stu-id="6903a-138">Identify the rule subcategory by reading through the introductory section of [Code style rules](/dotnet/fundamentals/code-analysis/style-rules/index).</span></span> <span data-ttu-id="6903a-139">大多数 IDE 代码样式规则位于 `Language` 子类别下面。</span><span class="sxs-lookup"><span data-stu-id="6903a-139">Most of the IDE code style rules are under the `Language` subcategory.</span></span>
3. <span data-ttu-id="6903a-140">确定规则 `preference group`：通过通读[此处](/dotnet/fundamentals/code-analysis/style-rules/language-rules#net-style-rules)的首选项标头来标识规则的 `preference group`。</span><span class="sxs-lookup"><span data-stu-id="6903a-140">Determine rule `preference group`: Identify the `preference group` for the rule by reading through the preferences headers [here](/dotnet/fundamentals/code-analysis/style-rules/language-rules#net-style-rules).</span></span>
   - <span data-ttu-id="6903a-141">如果规则具有关联的已知代码样式选项，则首选项组将与代码样式选项声明中指定的 `OptionGroup` 匹配。</span><span class="sxs-lookup"><span data-stu-id="6903a-141">If the rule has known, associated code style option(s), the preferences group will match the `OptionGroup` specified in the code style option declaration.</span></span>
   - <span data-ttu-id="6903a-142">否则，请确定规则是否属于现有首选组或是否需要新的首选组。</span><span class="sxs-lookup"><span data-stu-id="6903a-142">Otherwise, determine if the rule belongs to an existing preference group or needs a new preference group.</span></span>
4. <span data-ttu-id="6903a-143">添加规则文档：</span><span class="sxs-lookup"><span data-stu-id="6903a-143">Add rule doc:</span></span>
   1. <span data-ttu-id="6903a-144">在[根](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules)文件夹下克隆现有的 IDE 规则文件（如 `ide0011.md`），然后对其重命名。</span><span class="sxs-lookup"><span data-stu-id="6903a-144">Clone an existing IDE rule file under [root](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules) folder, say `ide0011.md`, and rename it.</span></span>
   2. <span data-ttu-id="6903a-145">适当地更新文件的内容。</span><span class="sxs-lookup"><span data-stu-id="6903a-145">Update the content of the file appropriately.</span></span>
5. <span data-ttu-id="6903a-146">将 IDE 规则和/或代码样式选项的条目添加到以下表：</span><span class="sxs-lookup"><span data-stu-id="6903a-146">Add an entry for the IDE rule and/or code style option(s) to the following tables:</span></span>
   - <span data-ttu-id="6903a-147">在规则的子类别和首选项列表下的[目录](https://github.com/dotnet/docs/blob/master/docs/fundamentals/toc.yml)文件中。</span><span class="sxs-lookup"><span data-stu-id="6903a-147">In [table of contents](https://github.com/dotnet/docs/blob/master/docs/fundamentals/toc.yml) file under the rule's sub-category and preferences list.</span></span> <span data-ttu-id="6903a-148">例如，对于具有 `Language` 子类别和 `Modifier preferences` 组的 IDE 代码样式规则，搜索文件中的术语 `- name: Language rules` 和子节点 `- name: Modifier preferences` 并将条目添加到列表中。</span><span class="sxs-lookup"><span data-stu-id="6903a-148">For example, for an IDE code style rule with `Language` subcategory and `Modifier preferences` group, search for the term `- name: Language rules` and a child node `- name: Modifier preferences` in the file and add an entry to the list.</span></span> <span data-ttu-id="6903a-149">如果子类别下的子类别列表或首选项列表都不存在，请在 `- name: Code style rules` 下创建新列表。</span><span class="sxs-lookup"><span data-stu-id="6903a-149">If either the subcategory list or the preferences list under the subcategory does not exist, create a new one under `- name: Code style rules`.</span></span>
   - <span data-ttu-id="6903a-150">在[基于代码样式选项的索引](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules/language-rules.md)文件中。</span><span class="sxs-lookup"><span data-stu-id="6903a-150">In the [code style option-based index](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules/language-rules.md) file.</span></span>
   - <span data-ttu-id="6903a-151">在[基于规则 ID 的索引](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules/index.md)文件中。</span><span class="sxs-lookup"><span data-stu-id="6903a-151">In the [rule ID-based index](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules/index.md) file.</span></span>
   - <span data-ttu-id="6903a-152">在基于 `preferences group` 的规则索引文件中：</span><span class="sxs-lookup"><span data-stu-id="6903a-152">In `preferences group` based rule index file:</span></span>
     1. <span data-ttu-id="6903a-153">在[根](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules)文件夹下标识基于首选项组的索引文件。</span><span class="sxs-lookup"><span data-stu-id="6903a-153">Identify the preferences group based index file under [root](https://github.com/dotnet/docs/blob/master/docs/fundamentals/code-analysis/style-rules) folder.</span></span> <span data-ttu-id="6903a-154">例如，对于 `Modifier preferences` 的 IDE 规则，此文件名为 `modifier-preferences.md`。</span><span class="sxs-lookup"><span data-stu-id="6903a-154">For example, for an IDE rule for `Modifier preferences`, this file is named `modifier-preferences.md`.</span></span> <span data-ttu-id="6903a-155">如果都不存在，请通过克隆现有索引文件来创建基于首选项组的新索引文件。</span><span class="sxs-lookup"><span data-stu-id="6903a-155">If none exists, create a new preferences group based index file by cloning an existing one.</span></span>
     2. <span data-ttu-id="6903a-156">在此文件中添加规则 ID 的条目。</span><span class="sxs-lookup"><span data-stu-id="6903a-156">Add an entry for the rule ID in this file.</span></span>

> [!TIP]
> <span data-ttu-id="6903a-157">执行 `dotnet/docs` 存储库中的存储库搜索，查找已知的现有 IDE 规则和/或代码样式选项，以便标识可能需要更新的位置。</span><span class="sxs-lookup"><span data-stu-id="6903a-157">Perform a repo search in the `dotnet/docs` repo, for a known, existing IDE rule and/or code style option(s) to identify potential places that might need an update.</span></span> <span data-ttu-id="6903a-158">有关示例，请参阅 <https://github.com/dotnet/docs/search?q=IDE0011> 和 <https://github.com/dotnet/docs/search?q=csharp_prefer_braces>。</span><span class="sxs-lookup"><span data-stu-id="6903a-158">For example, see <https://github.com/dotnet/docs/search?q=IDE0011> and <https://github.com/dotnet/docs/search?q=csharp_prefer_braces>.</span></span>

## <a name="see-also"></a><span data-ttu-id="6903a-159">另请参阅</span><span class="sxs-lookup"><span data-stu-id="6903a-159">See also</span></span>

- [<span data-ttu-id="6903a-160">参与 .NET 文档存储库撰写</span><span class="sxs-lookup"><span data-stu-id="6903a-160">Contribute to the .NET docs repositories</span></span>](dotnet-contribute.md)
